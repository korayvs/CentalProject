@{
    ViewData["Title"] = "Gösterge Paneli";
    Layout = "~/Areas/Admin/Views/AdminDashboardLayout/Layout.cshtml";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- [ Main Content ] start -->
<div class="row">
    <div class="col-md-12 col-xl-6">
        <div class="card flat-card">
            <div class="row-table">
                <div class="col-sm-6 card-body br">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-solid fa-users" style="color: #00ff2a;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.TotalUserCount</h5>
                            <span>Toplam Kullanıcı Sayısı</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 card-body">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-solid fa-user-tie" style="color: #ff0000;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.TotalManagerCount</h5>
                            <span>Toplam Danışman Sayısı</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-table">
                <div class="col-sm-6 card-body br">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-regular fa-bookmark" style="color:forestgreen;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.TotalBrandCount</h5>
                            <span>Toplam Marka Sayısı</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 card-body">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa fa-car-rear" style="color: #FFD43B;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.TotalCarCount</h5>
                            <span>Toplam Araç Sayısı</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- widget primary card start -->
        <div class="card flat-card widget-primary-card" style="background-color:#538D8E">
            <div class="row-table">
                <div class="col-sm-3 card-body" style="background-color:#4a7e7f">
                    <i class="feather icon-star-on"></i>
                </div>
                <div class="col-sm-9">
                    <h4>@ViewBag.TotalReviewCount</h4>
                    <h6>Toplam Değerledirme Sayısı</h6>
                </div>
            </div>
        </div>
        <div class="card flat-card widget-primary-card">
            <div class="row-table">
                <div class="col-sm-3 card-body">
                    <i class="fa-solid fa-book-open"></i>
                </div>
                <div class="col-sm-9">
                    <h4>@ViewBag.TotalBookingCount</h4>
                    <h6>Toplam Rezervasyon Sayısı</h6>
                </div>
            </div>
        </div>

        <div class="card flat-card widget-primary-card" style="background-color:orange">
            <div class="row-table">
                <div class="col-sm-3 card-body" style="background-color:darkorange">
                    <i class="feather icon-user-minus"></i>
                </div>
                <div class="col-sm-9">
                    <h4>@ViewBag.WaitingBookingCount</h4>
                    <h6>Bekleyen Rezervasyonlar</h6>
                </div>
            </div>
        </div>
        <!-- widget primary card end -->
    </div>

    <div class="col-md-12 col-xl-6">
        <div class="card flat-card">
            <div class="row-table">
                <div class="col-sm-6 card-body br">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-solid fa-tag" style="color: #ff9500;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.MostCheapCar ₺</h5>
                            <span>En Ucuz Kİra Fİyatı</span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 card-body">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-solid fa-dollar-sign" style="color:green;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.MostExpensiveCar ₺</h5>
                            <span>En Pahalı Kİra Fİyatı</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row-table">
                <div class="col-sm-6 card-body br">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-solid fa-fire" style="color:red;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.MostSelectedCarName</h5>
                            <span>En Çok Seçİlen Araba Modelİ </span>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 card-body">
                    <div class="row">
                        <div class="col-sm-4">
                            <i class="fa-solid fa-snowflake" style="color:deepskyblue;"></i>
                        </div>
                        <div class="col-sm-8 text-md-center">
                            <h5>@ViewBag.LeastSelectedCarName</h5>
                            <span>En Az Seçİlen Araba Modelİ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- widget-success-card start -->
        <div class="card flat-card widget-purple-card" style="background-color:#c8cc00">
            <div class="row-table">
                <div class="col-sm-3 card-body" style="background-color:#afb300">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="col-sm-9">
                    <h4>@ViewBag.GetTestimonialAvarage</h4>
                    <h6>Değerlendirme - Puan Ortalaması</h6>
                </div>
            </div>
        </div>
        <div class="card flat-card widget-purple-card">
            <div class="row-table">
                <div class="col-sm-3 card-body">
                    <i class="feather icon-user-check"></i>
                </div>
                <div class="col-sm-9">
                    <h4>@ViewBag.ApprovedBookingCount</h4>
                    <h6>Onaylanan Rezervasyonlar</h6>
                </div>
            </div>
        </div>
        <div class="card flat-card widget-purple-card" style="background-color:red">
            <div class="row-table">
                <div class="col-sm-3 card-body" style="background-color:#e60000">
                    <i class="feather icon-user-x"></i>
                </div>
                <div class="col-sm-9">
                    <h4>@ViewBag.DeclineBookingCount</h4>
                    <h6>Reddedilen Rezervasyonlar</h6>
                </div>
            </div>
        </div>
        <!-- widget-success-card end -->
    </div>

    <!-- prject ,team member start -->
    <div class="col-xl-6 col-md-12">
        <div class="card table-card">
            <div class="card-header">
                <h5>Bekleyen Rezervasyon Talepleri</h5>
                <div class="card-header-right">
                    <div class="btn-group card-option">
                        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="feather icon-more-horizontal"></i>
                        </button>
                        <ul class="list-unstyled card-option dropdown-menu dropdown-menu-right">
                            <li class="dropdown-item full-card"><a href="#!"><span><i class="feather icon-maximize"></i> maximize</span><span style="display:none"><i class="feather icon-minimize"></i> Restore</span></a></li>
                            <li class="dropdown-item minimize-card"><a href="#!"><span><i class="feather icon-minus"></i> collapse</span><span style="display:none"><i class="feather icon-plus"></i> expand</span></a></li>
                            <li class="dropdown-item reload-card"><a href="#!"><i class="feather icon-refresh-cw"></i> reload</a></li>
                            @* <li class="dropdown-item close-card"><a href="#!"><i class="feather icon-trash"></i> remove</a></li> *@
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>KULLANICI ADI SOYADI</th>
                                <th>ARAÇ</th>
                                <th>ALIŞ TARİHİ</th>
                                <th>İADE TARİHİ</th>
                            </tr>
                        </thead>
                        <tbody>

                            @foreach (var item in ViewBag.BookingList)
                            {
                                <tr>
                                    <td>
                                        <div class="d-inline-block align-middle">
                                            <img src="@item.User.ImageUrl" alt="user image" class="img-radius wid-40 align-top m-r-15">
                                            <div class="d-inline-block">
                                                <h6>@item.User.FirstName @item.User.LastName</h6>
                                                <p class="text-muted m-b-0">@item.PickUpLocation - @item.DropOffLocation</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td>@item.Car.Brand.BrandName @item.Car.ModelName @item.Car.Year</td>
                                    <td>@item.PickUpDate.ToString("dd.MM.yyyy")</td>
                                    <td>@item.DropOffDate.ToString("dd.MM.yyyy")</td>
                                </tr>
                            }

                        </tbody>
                    </table>

                    <div class="text-center">
                        <a href="/Admin/AdminBooking/Index" class="b-b-primary text-primary">Tüm Rezervasyonları Listele</a>
                        <br />
                        <br />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- prject ,team member end -->

    <div class="col-xl-6 col-md-12">
        <div class="card latest-update-card">
            <div class="card-header">
                <h5>Son Eklenen Araçlar</h5>
                <div class="card-header-right">
                    <div class="btn-group card-option">
                        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="feather icon-more-horizontal"></i>
                        </button>
                        <ul class="list-unstyled card-option dropdown-menu dropdown-menu-right">
                            <li class="dropdown-item minimize-card"><a href="#!"><span><i class="feather icon-minus"></i> collapse</span><span style="display:none"><i class="feather icon-plus"></i> expand</span></a></li>
                            <li class="dropdown-item reload-card"><a href="#!"><i class="feather icon-refresh-cw"></i> reload</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="latest-update-box">

                    @foreach (var item in ViewBag.LastAddedCars)
                    {
                        <div class="row p-t-30 p-b-30">
                            <div class="row">
                                <div class="col-auto text-right update-meta">
                                    <p class="text-muted m-b-0 d-inline-flex"></p>
                                    <i class="feather icon-briefcase bg-c-red update-icon"></i>
                                </div>
                                <div class="col">
                                    @* <a href="#!"> *@
                                    <h6>@item.Brand.BrandName @item.ModelName @item.Year</h6>
                                    @* </a> *@
                                    <p class="text-muted m-b-0">Ücret: @item.Price ₺</p>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="text-center">
                    <a href="/Admin/AdminCar/Index" class="b-b-primary text-primary">Tüm Araçları Listele</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Latest Customers start -->
    <div class="col-12">
        <div class="card table-card review-card">
            <div class="card-header borderless ">
                <h5>Site Değerlendirmeleri</h5>
            </div>
            <div class="card-body pb-0">
                <div class="review-block">
                    <div class="row d-flex flex-wrap">

                        @foreach (var item in ViewBag.TestimonialList)
                        {
                            <div class="col-sm-12 col-md-6 col-lg-4 d-flex mb-3">
                                <div class="d-flex w-100">
                                    <div class="p-r-0">
                                        <img src="@item.ImageUrl" alt="user image" class="img-radius profile-img cust-img m-b-15">
                                    </div>
                                    <div class="col">
                                        <h6 class="m-b-15">@item.Name <span class="float-right f-13 text-muted"></span></h6>

                                        @for (int i = 1; i <= item.Review; i++)
                                        {
                                            <i class="feather icon-star-on f-18 text-c-yellow"></i>
                                        }
                                        @for (int i = 1; i <= (5 - item.Review); i++)
                                        {
                                            <i class="feather icon-star f-18 text-muted"></i>
                                        }

                                        <p class="m-t-15 m-b-15 text-muted" style="opacity: 0.7">"@item.Comment"</p>
                                    </div>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>